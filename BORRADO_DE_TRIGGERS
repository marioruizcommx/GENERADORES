CREATE OR REPLACE PROCEDURE BORRADO_DE_TRIGGERS
IS
      --VARIABLES
      LN_TRIGGERS_AFECTADOS NUMBER(19);
      LV_CODIGO_FINAL VARCHAR2(32767);
BEGIN
      SELECT COUNT(*) 
      INTO LN_TRIGGERS_AFECTADOS
      FROM ALL_TRIGGERS 
      WHERE UPPER(SUBSTR(TRIGGER_NAME,1,4)) LIKE UPPER('FICE')
      and (UPPER(SUBSTR(TABLE_NAME,6,3)) LIKE UPPER('ADM') 
      or UPPER(SUBSTR(TABLE_NAME,6,3)) LIKE UPPER('CAT') 
      or UPPER(SUBSTR(TABLE_NAME,6,3)) LIKE UPPER('OPE'));

      DBMS_OUTPUT.PUT_LINE('Se realizara la creacion del trigger, sobre '||LN_TRIGGERS_AFECTADOS||' Tablas'||CHR(13));

      --COMIENZA LA CREACION DE TRIGGER POR TABLA
      FOR DATO IN ( SELECT DISTINCT TRIGGER_NAME
                    FROM ALL_TRIGGERS 
                    WHERE UPPER(SUBSTR(TRIGGER_NAME,1,4)) LIKE UPPER('FICE')
                    and (UPPER(SUBSTR(TABLE_NAME,6,3)) LIKE UPPER('ADM') 
                    or UPPER(SUBSTR(TABLE_NAME,6,3)) LIKE UPPER('CAT') 
                    or UPPER(SUBSTR(TABLE_NAME,6,3)) LIKE UPPER('OPE'))
                    )
      LOOP
      
             LV_CODIGO_FINAL := 'DROP TRIGGER '||DATO.TRIGGER_NAME||';'||CHR(13);
             
             DBMS_OUTPUT.PUT_LINE(LV_CODIGO_FINAL);
                      
      END LOOP;
      
END;
